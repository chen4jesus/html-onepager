<!DOCTYPE html>
<html lang="en" data-ai-src-id=".claudable/baselines/index.html::0">
<head data-ai-src-id=".claudable/baselines/index.html::1">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cost-effective digital transformation consulting for churches, helping faith communities embrace AI and innovative sharing economy models.">
    <meta name="keywords" content="church digital transformation, AI for churches, cost-effective consulting, sharing economy, church technology">
    <title data-ai-src-id=".claudable/baselines/index.html::2">Church Digital AI - Transform Your Ministry for the Digital Age</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
<style>
    .form-message {
        display: flex;
        align-items: center;
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1.5rem;
        animation: slideDown 0.3s ease;
    }

    .form-message.success {
        background: #d1fae5;
        border: 1px solid #10b981;
        color: #059669;
    }

    .form-message.error {
        background: #fee2e2;
        border: 1px solid #ef4444;
        color: #dc2626;
    }

    .message-icon {
        font-size: 1.5rem;
        margin-right: 1rem;
    }

    .message-content h4 {
        margin: 0 0 0.25rem 0;
        font-size: 1rem;
        font-weight: 600;
    }

    .message-content p {
        margin: 0;
        font-size: 0.875rem;
    }

    .form-group.error label {
        color: #ef4444;
    }

    .form-group.error input,
    .form-group.error select,
    .form-group.error textarea {
        border-color: #ef4444;
    }

    .error-message {
        color: #ef4444;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style><style>
    .form-message {
        display: flex;
        align-items: center;
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1.5rem;
        animation: slideDown 0.3s ease;
    }

    .form-message.success {
        background: #d1fae5;
        border: 1px solid #10b981;
        color: #059669;
    }

    .form-message.error {
        background: #fee2e2;
        border: 1px solid #ef4444;
        color: #dc2626;
    }

    .message-icon {
        font-size: 1.5rem;
        margin-right: 1rem;
    }

    .message-content h4 {
        margin: 0 0 0.25rem 0;
        font-size: 1rem;
        font-weight: 600;
    }

    .message-content p {
        margin: 0;
        font-size: 0.875rem;
    }

    .form-group.error label {
        color: #ef4444;
    }

    .form-group.error input,
    .form-group.error select,
    .form-group.error textarea {
        border-color: #ef4444;
    }

    .error-message {
        color: #ef4444;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style></head>
<body class="ai-smart-edit-editing" style="cursor: crosshair;" data-ai-src-id=".claudable/baselines/index.html::3">
    <!-- Header Navigation -->
    <header class="header" style="background: rgba(255, 255, 255, 0.98); box-shadow: none;" data-ai-src-id=".claudable/baselines/index.html::4">
        <nav class="nav" role="navigation" aria-label="Main navigation" data-ai-src-id=".claudable/baselines/index.html::5">
            <div class="nav-container" data-ai-src-id=".claudable/baselines/index.html::6">
                <a href="#home" class="logo" data-ai-src-id=".claudable/baselines/index.html::7">
                    <span class="logo-icon" data-ai-src-id=".claudable/baselines/index.html::8">‚õ™</span>
                    <span class="logo-text" data-ai-src-id=".claudable/baselines/index.html::9">Church Digital AI</span>
                </a>
                <ul class="nav-menu" role="list" data-ai-src-id=".claudable/baselines/index.html::10">
                    <li data-ai-src-id=".claudable/baselines/index.html::11"><a href="#services" class="nav-link" data-ai-src-id=".claudable/baselines/index.html::12">Services</a></li>
                    <li data-ai-src-id=".claudable/baselines/index.html::13"><a href="#approach" class="nav-link" data-ai-src-id=".claudable/baselines/index.html::14">Our Approach</a></li>
                    <li data-ai-src-id=".claudable/baselines/index.html::15"><a href="#products" class="nav-link" data-ai-src-id=".claudable/baselines/index.html::16">Products</a></li>
                    <li data-ai-src-id=".claudable/baselines/index.html::17"><a href="#testimonials" class="nav-link" data-ai-src-id=".claudable/baselines/index.html::18">Success Stories</a></li>
                    <li data-ai-src-id=".claudable/baselines/index.html::19"><a href="#contact" class="nav-link" data-ai-src-id=".claudable/baselines/index.html::20">Get Started</a></li>
                </ul>
                <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false" data-ai-src-id=".claudable/baselines/index.html::21">
                    <span class="hamburger-line" data-ai-src-id=".claudable/baselines/index.html::22"></span>
                    <span class="hamburger-line" data-ai-src-id=".claudable/baselines/index.html::23"></span>
                    <span class="hamburger-line" data-ai-src-id=".claudable/baselines/index.html::24"></span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main data-ai-src-id=".claudable/baselines/index.html::25">
        <!-- Hero Section -->
        <section id="home" class="hero" data-ai-src-id=".claudable/baselines/index.html::26">
            <div class="container" data-ai-src-id=".claudable/baselines/index.html::27">
                <div class="hero-content" style="transform: translateY(33.5px); opacity: 0.888333;" data-ai-src-id=".claudable/baselines/index.html::28">
                    <h1 class="hero-title" data-ai-src-id=".claudable/baselines/index.html::29">
                        Transform Your Ministry for the
                        <span class="highlight" data-ai-src-id=".claudable/baselines/index.html::30">AI-Powered Future</span>
                    </h1>
                    <p class="hero-subtitle" data-ai-src-id=".claudable/baselines/index.html::31">
                        Cost-effective digital transformation consulting that empowers churches to embrace innovation through collaborative models and the sharing economy.</p>
                    <div class="hero-cta" data-ai-src-id=".claudable/baselines/index.html::32">
                        <a href="#contact" class="btn btn-primary" data-ai-src-id=".claudable/baselines/index.html::33">Start Your Transformation</a>
                        <a href="#approach" class="btn btn-secondary" data-ai-src-id=".claudable/baselines/index.html::34">Learn How</a>
                    </div>
                    <div class="hero-stats" data-ai-src-id=".claudable/baselines/index.html::35">
                        <div class="stat" data-ai-src-id=".claudable/baselines/index.html::36">
                            <span class="stat-number animated" data-target="70" data-suffix="%" data-ai-src-id=".claudable/baselines/index.html::37">70%</span>
                            <span class="stat-label" data-ai-src-id=".claudable/baselines/index.html::38">Cost Savings</span>
                        </div>
                        <div class="stat" data-ai-src-id=".claudable/baselines/index.html::39">
                            <span class="stat-number animated" data-target="500" data-suffix="+" data-ai-src-id=".claudable/baselines/index.html::40">500+</span>
                            <span class="stat-label" data-ai-src-id=".claudable/baselines/index.html::41">Churches Helped</span>
                        </div>
                        <div class="stat" data-ai-src-id=".claudable/baselines/index.html::42">
                            <span class="stat-number animated" data-target="24" data-suffix="/7" data-ai-src-id=".claudable/baselines/index.html::43">24/7</span>
                            <span class="stat-label" data-ai-src-id=".claudable/baselines/index.html::44">AI Support</span>
                        </div>
                    </div>
                </div>
                <div class="hero-visual" data-ai-src-id=".claudable/baselines/index.html::45">
                    <div class="floating-icons" data-ai-src-id=".claudable/baselines/index.html::46">
                        <div class="floating-icon" aria-hidden="true" data-ai-src-id=".claudable/baselines/index.html::47">ü§ñ</div>
                        <div class="floating-icon" aria-hidden="true" data-ai-src-id=".claudable/baselines/index.html::48">üì±</div>
                        <div class="floating-icon" aria-hidden="true" data-ai-src-id=".claudable/baselines/index.html::49">‚òÅÔ∏è</div>
                        <div class="floating-icon" aria-hidden="true" data-ai-src-id=".claudable/baselines/index.html::50">üåê</div>
                        <div class="floating-icon" aria-hidden="true" data-ai-src-id=".claudable/baselines/index.html::51">üîó</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Problem Section -->
        <section class="problem" data-ai-src-id=".claudable/baselines/index.html::52">
            <div class="container" data-ai-src-id=".claudable/baselines/index.html::53">
                <div class="section-header" data-ai-src-id=".claudable/baselines/index.html::54">
                    <h2 data-ai-src-id=".claudable/baselines/index.html::55">The Digital Challenge for Churches</h2>
                    <p data-ai-src-id=".claudable/baselines/index.html::56">Many churches struggle with digital transformation due to limited resources and technical expertise.</p>
                </div>
                <div class="challenges-grid" data-ai-src-id=".claudable/baselines/index.html::57">
                    <div class="challenge-card" data-ai-src-id=".claudable/baselines/index.html::58">
                        <div class="challenge-icon" data-ai-src-id=".claudable/baselines/index.html::59">üí∞</div>
                        <h3 data-ai-src-id=".claudable/baselines/index.html::60">Limited Budgets</h3>
                        <p data-ai-src-id=".claudable/baselines/index.html::61">Traditional digital solutions are expensive and not designed for church budgets.</p>
                    </div>
                    <div class="challenge-card" data-ai-src-id=".claudable/baselines/index.html::62">
                        <div class="challenge-icon" data-ai-src-id=".claudable/baselines/index.html::63">üë•</div>
                        <h3 data-ai-src-id=".claudable/baselines/index.html::64">Staff Shortages</h3>
                        <p data-ai-src-id=".claudable/baselines/index.html::65">Most churches lack dedicated IT staff to manage digital transformation.</p>
                    </div>
                    <div class="challenge-card" data-ai-src-id=".claudable/baselines/index.html::66">
                        <div class="challenge-icon" data-ai-src-id=".claudable/baselines/index.html::67">üìö</div>
                        <h3 data-ai-src-id=".claudable/baselines/index.html::68">Knowledge Gaps</h3>
                        <p data-ai-src-id=".claudable/baselines/index.html::69">Rapid technological changes leave ministry teams feeling overwhelmed.</p>
                    </div>
                    <div class="challenge-card" data-ai-src-id=".claudable/baselines/index.html::70">
                        <div class="challenge-icon" data-ai-src-id=".claudable/baselines/index.html::71">‚ö°</div>
                        <h3 data-ai-src-id=".claudable/baselines/index.html::72">Outdated Systems</h3>
                        <p data-ai-src-id=".claudable/baselines/index.html::73">Legacy systems can't keep up with modern ministry needs.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="services" data-ai-src-id=".claudable/baselines/index.html::74">
            <div class="container" data-ai-src-id=".claudable/baselines/index.html::75">
                <div class="section-header" data-ai-src-id=".claudable/baselines/index.html::76">
                    <h2 data-ai-src-id=".claudable/baselines/index.html::77">Church-First Technology</h2>
                    <p data-ai-src-id=".claudable/baselines/index.html::78">Comprehensive digital solutions tailored for church communities.</p>
                </div>
                <div class="services-grid" data-ai-src-id=".claudable/baselines/index.html::79">
                    <article class="service-card" data-ai-src-id=".claudable/baselines/index.html::80">
                        <div class="service-icon" data-ai-src-id=".claudable/baselines/index.html::81">üöÄ</div>
                        <h3 data-ai-src-id=".claudable/baselines/index.html::82">Digital Strategy</h3>
                        <p data-ai-src-id=".claudable/baselines/index.html::83">Customized AI-powered digital transformation roadmap for your unique ministry needs.</p>
                        <ul class="service-features" data-ai-src-id=".claudable/baselines/index.html::84">
                            <li data-ai-src-id=".claudable/baselines/index.html::85">AI readiness assessment</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::86">Technology audit</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::87">Implementation timeline</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::88">Budget optimization</li>
                        </ul>
                    </article>
                    <article class="service-card featured" data-ai-src-id=".claudable/baselines/index.html::89">
                        <div class="service-badge" data-ai-src-id=".claudable/baselines/index.html::90">Most Popular</div>
                        <div class="service-icon" data-ai-src-id=".claudable/baselines/index.html::91">ü§ù</div>
                        <h3 data-ai-src-id=".claudable/baselines/index.html::92">Sharing Economy Platform</h3>
                        <p data-ai-src-id=".claudable/baselines/index.html::93">Collaborative resource sharing that reduces costs by up to 70% through church partnerships.</p>
                        <ul class="service-features" data-ai-src-id=".claudable/baselines/index.html::94">
                            <li data-ai-src-id=".claudable/baselines/index.html::95">Shared software licenses</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::96">Joint training programs</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::97">Staff skill sharing</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::98">Resource pooling</li>
                        </ul>
                    </article>
                    <article class="service-card" data-ai-src-id=".claudable/baselines/index.html::99">
                        <div class="service-icon" data-ai-src-id=".claudable/baselines/index.html::100">üîß</div>
                        <h3 data-ai-src-id=".claudable/baselines/index.html::101">AI Implementation</h3>
                        <p data-ai-src-id=".claudable/baselines/index.html::102">Hands-on implementation of AI tools that enhance ministry efficiency and outreach.</p>
                        <ul class="service-features" data-ai-src-id=".claudable/baselines/index.html::103">
                            <li data-ai-src-id=".claudable/baselines/index.html::104">Automated administration</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::105">AI-assisted sermon prep</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::106">Smart member engagement</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::107">Data-driven insights</li>
                        </ul>
                    </article>
                </div>
            </div>
        </section>

        <!-- Approach Section -->
        <section id="approach" class="approach" data-ai-src-id=".claudable/baselines/index.html::108">
            <div class="container" data-ai-src-id=".claudable/baselines/index.html::109">
                <div class="section-header" data-ai-src-id=".claudable/baselines/index.html::110">
                    <h2 data-ai-src-id=".claudable/baselines/index.html::111">Our Innovative Collaboration Model</h2>
                    <p data-ai-src-id=".claudable/baselines/index.html::112">Revolutionizing church technology through the power of community and shared resources.</p>
                </div>
                <div class="approach-content" data-ai-src-id=".claudable/baselines/index.html::113">
                    <div class="approach-diagram" data-ai-src-id=".claudable/baselines/index.html::114">
                        <div class="diagram-node node-start" data-ai-src-id=".claudable/baselines/index.html::115">Individual Church</div>
                        <div class="diagram-arrow" data-ai-src-id=".claudable/baselines/index.html::116">‚Üì</div>
                        <div class="diagram-node node-middle" data-ai-src-id=".claudable/baselines/index.html::117">Join Network</div>
                        <div class="diagram-arrow" data-ai-src-id=".claudable/baselines/index.html::118">‚Üì</div>
                        <div class="diagram-node node-end" data-ai-src-id=".claudable/baselines/index.html::119">Shared Resources & Cost Savings</div>
                    </div>
                    <div class="approach-benefits" data-ai-src-id=".claudable/baselines/index.html::120">
                        <div class="benefit-item" data-ai-src-id=".claudable/baselines/index.html::121">
                            <h4 data-ai-src-id=".claudable/baselines/index.html::122">üí° Cost-Effective</h4>
                            <p data-ai-src-id=".claudable/baselines/index.html::123">Reduce technology costs by 70% through shared licensing and collaborative purchasing.</p>
                        </div>
                        <div class="benefit-item" data-ai-src-id=".claudable/baselines/index.html::124">
                            <h4 data-ai-src-id=".claudable/baselines/index.html::125">üîó Community-Powered</h4>
                            <p data-ai-src-id=".claudable/baselines/index.html::126">Learn from other churches' experiences and share best practices in real-time.</p>
                        </div>
                        <div class="benefit-item" data-ai-src-id=".claudable/baselines/index.html::127">
                            <h4 data-ai-src-id=".claudable/baselines/index.html::128">‚ö° Rapid Implementation</h4>
                            <p data-ai-src-id=".claudable/baselines/index.html::129">Deploy solutions 5x faster with proven templates and expert guidance.</p>
                        </div>
                        <div class="benefit-item" data-ai-src-id=".claudable/baselines/index.html::130">
                            <h4 data-ai-src-id=".claudable/baselines/index.html::131">üõ°Ô∏è Risk Mitigation</h4>
                            <p data-ai-src-id=".claudable/baselines/index.html::132">Minimize risks through collective wisdom and shared support resources.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="products" data-ai-src-id=".claudable/baselines/index.html::133">
            <div class="container" data-ai-src-id=".claudable/baselines/index.html::134">
                <div class="section-header" data-ai-src-id=".claudable/baselines/index.html::135">
                    <h2 data-ai-src-id=".claudable/baselines/index.html::136">Ready-to-Deploy Solutions</h2>
                    <p data-ai-src-id=".claudable/baselines/index.html::137">Purpose-built products designed specifically for church digital transformation.</p>
                </div>
                <div class="products-showcase" data-ai-src-id=".claudable/baselines/index.html::138">
                    <article class="product-card" data-ai-src-id=".claudable/baselines/index.html::139">
                        <div class="product-header" data-ai-src-id=".claudable/baselines/index.html::140">
                            <h3 data-ai-src-id=".claudable/baselines/index.html::141">MinistryAI Suite</h3>
                            <span class="product-price" data-ai-src-id=".claudable/baselines/index.html::142">$99/month</span>
                        </div>
                        <p data-ai-src-id=".claudable/baselines/index.html::143">All-in-one AI platform for sermon preparation, member care, and administration.</p>
                        <ul class="product-features" data-ai-src-id=".claudable/baselines/index.html::144">
                            <li data-ai-src-id=".claudable/baselines/index.html::145">‚úì AI sermon assistant</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::146">‚úì Automated visitor follow-up</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::147">‚úì Smart volunteer scheduling</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::148">‚úì Member engagement analytics</li>
                        </ul>
                        <button class="btn btn-outline" data-ai-src-id=".claudable/baselines/index.html::149">Request Demo</button>
                    </article>
                    <article class="product-card" data-ai-src-id=".claudable/baselines/index.html::150">
                        <div class="product-header" data-ai-src-id=".claudable/baselines/index.html::151">
                            <h3 data-ai-src-id=".claudable/baselines/index.html::152">ChurchConnect Network</h3>
                            <span class="product-price" data-ai-src-id=".claudable/baselines/index.html::153">$49/month</span>
                        </div>
                        <p data-ai-src-id=".claudable/baselines/index.html::154">Collaborative platform connecting churches for resource sharing and mutual support.</p>
                        <ul class="product-features" data-ai-src-id=".claudable/baselines/index.html::155">
                            <li data-ai-src-id=".claudable/baselines/index.html::156">‚úì Shared software marketplace</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::157">‚úì Training library access</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::158">‚úì Expert consultation pool</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::159">‚úì Community forums</li>
                        </ul>
                        <button class="btn btn-outline" data-ai-src-id=".claudable/baselines/index.html::160">Join Network</button>
                    </article>
                    <article class="product-card" data-ai-src-id=".claudable/baselines/index.html::161">
                        <div class="product-header" data-ai-src-id=".claudable/baselines/index.html::162">
                            <h3 data-ai-src-id=".claudable/baselines/index.html::163">Digital Outreach Kit</h3>
                            <span class="product-price" data-ai-src-id=".claudable/baselines/index.html::164">$149/month</span>
                        </div>
                        <p data-ai-src-id=".claudable/baselines/index.html::165">Complete digital evangelism and community engagement toolkit.</p>
                        <ul class="product-features" data-ai-src-id=".claudable/baselines/index.html::166">
                            <li data-ai-src-id=".claudable/baselines/index.html::167">‚úì Social media automation</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::168">‚úì Live streaming setup</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::169">‚úì Online giving integration</li>
                            <li data-ai-src-id=".claudable/baselines/index.html::170">‚úì Virtual event platform</li>
                        </ul>
                        <button class="btn btn-outline" data-ai-src-id=".claudable/baselines/index.html::171">Get Started</button>
                    </article>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="testimonials" data-ai-src-id=".claudable/baselines/index.html::172">
            <div class="container" data-ai-src-id=".claudable/baselines/index.html::173">
                <div class="section-header" data-ai-src-id=".claudable/baselines/index.html::174">
                    <h2 data-ai-src-id=".claudable/baselines/index.html::175">Success Stories</h2>
                    <p data-ai-src-id=".claudable/baselines/index.html::176">See how churches like yours are thriving in the digital age.</p>
                </div>
                <div class="testimonials-grid" data-ai-src-id=".claudable/baselines/index.html::177">
                    <blockquote class="testimonial-card" data-ai-src-id=".claudable/baselines/index.html::178">
                        <div class="testimonial-content" data-ai-src-id=".claudable/baselines/index.html::179">
                            <p data-ai-src-id=".claudable/baselines/index.html::180">"The sharing economy model transformed our limited budget into unlimited possibilities. We're now serving more people with less resources."</p>
                        </div>
                        <footer class="testimonial-author" data-ai-src-id=".claudable/baselines/index.html::181">
                            <div class="author-info" data-ai-src-id=".claudable/baselines/index.html::182">
                                <cite data-ai-src-id=".claudable/baselines/index.html::183">Pastor Sarah Johnson</cite>
                                <span class="author-title" data-ai-src-id=".claudable/baselines/index.html::184">Grace Community Church</span>
                            </div>
                        </footer>
                    </blockquote>
                    <blockquote class="testimonial-card" data-ai-src-id=".claudable/baselines/index.html::185">
                        <div class="testimonial-content" data-ai-src-id=".claudable/baselines/index.html::186">
                            <p data-ai-src-id=".claudable/baselines/index.html::187">"AI tools have freed up 15 hours of admin time weekly, allowing us to focus on what matters most - people."</p>
                        </div>
                        <footer class="testimonial-author" data-ai-src-id=".claudable/baselines/index.html::188">
                            <div class="author-info" data-ai-src-id=".claudable/baselines/index.html::189">
                                <cite data-ai-src-id=".claudable/baselines/index.html::190">Pastor Michael Chen</cite>
                                <span class="author-title" data-ai-src-id=".claudable/baselines/index.html::191">Living Waters Fellowship</span>
                            </div>
                        </footer>
                    </blockquote>
                    <blockquote class="testimonial-card" data-ai-src-id=".claudable/baselines/index.html::192">
                        <div class="testimonial-content" data-ai-src-id=".claudable/baselines/index.html::193">
                            <p data-ai-src-id=".claudable/baselines/index.html::194">"The collaborative approach means we're not alone in this journey. We learn and grow together with other churches."</p>
                        </div>
                        <footer class="testimonial-author" data-ai-src-id=".claudable/baselines/index.html::195">
                            <div class="author-info" data-ai-src-id=".claudable/baselines/index.html::196">
                                <cite data-ai-src-id=".claudable/baselines/index.html::197">Pastor Emily Rodriguez</cite>
                                <span class="author-title" data-ai-src-id=".claudable/baselines/index.html::198">Hope Chapel</span>
                            </div>
                        </footer>
                    </blockquote>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta" data-ai-src-id=".claudable/baselines/index.html::199">
            <div class="container" data-ai-src-id=".claudable/baselines/index.html::200">
                <div class="cta-content" data-ai-src-id=".claudable/baselines/index.html::201">
                    <h2 data-ai-src-id=".claudable/baselines/index.html::202">Ready to Transform Your Ministry?</h2>
                    <p data-ai-src-id=".claudable/baselines/index.html::203">Join hundreds of churches already saving costs and expanding their impact through innovative digital solutions.</p>
                    <div class="cta-buttons" data-ai-src-id=".claudable/baselines/index.html::204">
                        <a href="#contact" class="btn btn-primary btn-large" data-ai-src-id=".claudable/baselines/index.html::205">Schedule Free Consultation</a>
                        <a href="#products" class="btn btn-secondary btn-large" data-ai-src-id=".claudable/baselines/index.html::206">Explore Solutions</a>
                    </div>
                    <div class="cta-guarantee" data-ai-src-id=".claudable/baselines/index.html::207">
                        <span class="guarantee-icon" data-ai-src-id=".claudable/baselines/index.html::208">üîí</span>
                        <span data-ai-src-id=".claudable/baselines/index.html::209">30-day money-back guarantee ‚Ä¢ No contracts ‚Ä¢ Cancel anytime</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="contact" data-ai-src-id=".claudable/baselines/index.html::210">
            <div class="container" data-ai-src-id=".claudable/baselines/index.html::211">
                <div class="section-header" data-ai-src-id=".claudable/baselines/index.html::212">
                    <h2 data-ai-src-id=".claudable/baselines/index.html::213">Start Your Digital Transformation Journey</h2>
                    <p data-ai-src-id=".claudable/baselines/index.html::214">Take the first step toward a more efficient, impactful ministry.</p>
                </div>
                <div class="contact-content" data-ai-src-id=".claudable/baselines/index.html::215">
                    <div class="contact-form-wrapper" data-ai-src-id=".claudable/baselines/index.html::216">
                        <form class="contact-form" id="contactForm" data-ai-src-id=".claudable/baselines/index.html::217">
                            <div class="form-row" data-ai-src-id=".claudable/baselines/index.html::218">
                                <div class="form-group" data-ai-src-id=".claudable/baselines/index.html::219">
                                    <label for="name" data-ai-src-id=".claudable/baselines/index.html::220">Church Name *</label>
                                    <input type="text" id="name" name="name" required data-ai-src-id=".claudable/baselines/index.html::221">
                                </div>
                                <div class="form-group" data-ai-src-id=".claudable/baselines/index.html::222">
                                    <label for="email" data-ai-src-id=".claudable/baselines/index.html::223">Email Address *</label>
                                    <input type="email" id="email" name="email" required data-ai-src-id=".claudable/baselines/index.html::224">
                                </div>
                            </div>
                            <div class="form-row" data-ai-src-id=".claudable/baselines/index.html::225">
                                <div class="form-group" data-ai-src-id=".claudable/baselines/index.html::226">
                                    <label for="phone" data-ai-src-id=".claudable/baselines/index.html::227">Phone Number</label>
                                    <input type="tel" id="phone" name="phone" data-ai-src-id=".claudable/baselines/index.html::228">
                                </div>
                                <div class="form-group" data-ai-src-id=".claudable/baselines/index.html::229">
                                    <label for="size" data-ai-src-id=".claudable/baselines/index.html::230">Church Size</label>
                                    <select id="size" name="size" data-ai-src-id=".claudable/baselines/index.html::231">
                                        <option value="" data-ai-src-id=".claudable/baselines/index.html::232">Select size</option>
                                        <option value="small" data-ai-src-id=".claudable/baselines/index.html::233">Under 100</option>
                                        <option value="medium" data-ai-src-id=".claudable/baselines/index.html::234">100-500</option>
                                        <option value="large" data-ai-src-id=".claudable/baselines/index.html::235">500-1000</option>
                                        <option value="xlarge" data-ai-src-id=".claudable/baselines/index.html::236">1000+</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" data-ai-src-id=".claudable/baselines/index.html::237">
                                <label for="interest" data-ai-src-id=".claudable/baselines/index.html::238">Area of Interest</label>
                                <select id="interest" name="interest" data-ai-src-id=".claudable/baselines/index.html::239">
                                    <option value="" data-ai-src-id=".claudable/baselines/index.html::240">Select interest</option>
                                    <option value="strategy" data-ai-src-id=".claudable/baselines/index.html::241">Digital Strategy</option>
                                    <option value="sharing" data-ai-src-id=".claudable/baselines/index.html::242">Sharing Economy Model</option>
                                    <option value="ai" data-ai-src-id=".claudable/baselines/index.html::243">AI Implementation</option>
                                    <option value="products" data-ai-src-id=".claudable/baselines/index.html::244">Ready Products</option>
                                    <option value="all" data-ai-src-id=".claudable/baselines/index.html::245">All Services</option>
                                </select>
                            </div>
                            <div class="form-group" data-ai-src-id=".claudable/baselines/index.html::246">
                                <label for="message" data-ai-src-id=".claudable/baselines/index.html::247">Tell us about your needs</label>
                                <textarea id="message" name="message" rows="4" data-ai-src-id=".claudable/baselines/index.html::248"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary btn-full" data-ai-src-id=".claudable/baselines/index.html::249">Get Free Consultation</button>
                            <p class="form-note" data-ai-src-id=".claudable/baselines/index.html::250">We respect your privacy and will never share your information.</p>
                        </form>
                    </div>
                    <div class="contact-info" data-ai-src-id=".claudable/baselines/index.html::251">
                        <div class="info-item" data-ai-src-id=".claudable/baselines/index.html::252">
                            <h3 data-ai-src-id=".claudable/baselines/index.html::253">üìû Call Us</h3>
                            <p data-ai-src-id=".claudable/baselines/index.html::254">1-800-CHURCH-AI</p>
                            <p data-ai-src-id=".claudable/baselines/index.html::255">Mon-Fri 9AM-5PM EST</p>
                        </div>
                        <div class="info-item" data-ai-src-id=".claudable/baselines/index.html::256">
                            <h3 data-ai-src-id=".claudable/baselines/index.html::257">‚úâÔ∏è Email</h3>
                            <p data-ai-src-id=".claudable/baselines/index.html::258">hello@churchdigital.ai</p>
                            <p data-ai-src-id=".claudable/baselines/index.html::259">Response within 24 hours</p>
                        </div>
                        <div class="info-item" data-ai-src-id=".claudable/baselines/index.html::260">
                            <h3 data-ai-src-id=".claudable/baselines/index.html::261">üí¨ Live Chat</h3>
                            <p data-ai-src-id=".claudable/baselines/index.html::262">Available on website</p>
                            <p data-ai-src-id=".claudable/baselines/index.html::263">AI-powered 24/7 support</p>
                        </div>
                        <div class="info-item" data-ai-src-id=".claudable/baselines/index.html::264">
                            <h3 data-ai-src-id=".claudable/baselines/index.html::265">üè¢ Office</h3>
                            <p data-ai-src-id=".claudable/baselines/index.html::266">123 Tech Avenue</p>
                            <p data-ai-src-id=".claudable/baselines/index.html::267">Innovation City, IC 12345</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" data-ai-src-id=".claudable/baselines/index.html::268">
        <div class="container" data-ai-src-id=".claudable/baselines/index.html::269">
            <div class="footer-content" data-ai-src-id=".claudable/baselines/index.html::270">
                <div class="footer-section" data-ai-src-id=".claudable/baselines/index.html::271">
                    <div class="footer-logo" data-ai-src-id=".claudable/baselines/index.html::272">
                        <span class="logo-icon" data-ai-src-id=".claudable/baselines/index.html::273">‚õ™</span>
                        <span class="logo-text" data-ai-src-id=".claudable/baselines/index.html::274">Church Digital AI</span>
                    </div>
                    <p data-ai-src-id=".claudable/baselines/index.html::275">Empowering churches for the digital age through collaboration, innovation, and cost-effective solutions.</p>
                </div>
                <div class="footer-section" data-ai-src-id=".claudable/baselines/index.html::276">
                    <h4 data-ai-src-id=".claudable/baselines/index.html::277">Services</h4>
                    <ul class="footer-links" data-ai-src-id=".claudable/baselines/index.html::278">
                        <li data-ai-src-id=".claudable/baselines/index.html::279"><a href="#services" data-ai-src-id=".claudable/baselines/index.html::280">Digital Strategy</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::281"><a href="#approach" data-ai-src-id=".claudable/baselines/index.html::282">Sharing Economy</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::283"><a href="#products" data-ai-src-id=".claudable/baselines/index.html::284">AI Implementation</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::285"><a href="#contact" data-ai-src-id=".claudable/baselines/index.html::286">Consulting</a></li>
                    </ul>
                </div>
                <div class="footer-section" data-ai-src-id=".claudable/baselines/index.html::287">
                    <h4 data-ai-src-id=".claudable/baselines/index.html::288">Resources</h4>
                    <ul class="footer-links" data-ai-src-id=".claudable/baselines/index.html::289">
                        <li data-ai-src-id=".claudable/baselines/index.html::290"><a href="#" data-ai-src-id=".claudable/baselines/index.html::291">Case Studies</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::292"><a href="#" data-ai-src-id=".claudable/baselines/index.html::293">Blog</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::294"><a href="#" data-ai-src-id=".claudable/baselines/index.html::295">Free Guide</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::296"><a href="#" data-ai-src-id=".claudable/baselines/index.html::297">Webinars</a></li>
                    </ul>
                </div>
                <div class="footer-section" data-ai-src-id=".claudable/baselines/index.html::298">
                    <h4 data-ai-src-id=".claudable/baselines/index.html::299">Connect</h4>
                    <ul class="footer-links" data-ai-src-id=".claudable/baselines/index.html::300">
                        <li data-ai-src-id=".claudable/baselines/index.html::301"><a href="#" data-ai-src-id=".claudable/baselines/index.html::302">About Us</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::303"><a href="#" data-ai-src-id=".claudable/baselines/index.html::304">Contact</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::305"><a href="#" data-ai-src-id=".claudable/baselines/index.html::306">Partners</a></li>
                        <li data-ai-src-id=".claudable/baselines/index.html::307"><a href="#" data-ai-src-id=".claudable/baselines/index.html::308">Careers</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom" data-ai-src-id=".claudable/baselines/index.html::309">
                <p data-ai-src-id=".claudable/baselines/index.html::310">&copy; 2024 Church Digital AI. All rights reserved. | <a href="#" data-ai-src-id=".claudable/baselines/index.html::311">Privacy Policy</a> | <a href="#" data-ai-src-id=".claudable/baselines/index.html::312">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>

<!-- AI SMART EDIT INJECTION START -->
<script>
window.__AI_SMART_EDIT_FILE__ = ".claudable/baselines/index.html";
(function () {
  const NAMESPACE = 'AI_SMART_EDIT';
  
  // State
  let isActive = false;
  let isEditMode = false;
  let overlay = null;
  let selectedOverlay = null;
  let originalStates = new Map(); // srcId -> { html, attrs }
  let sourceBaselines = new Map(); // srcId -> rawSourceHtml
  let pendingChanges = {}; // selector -> { type, value, attrName? }

  // --- Snapshot Management ---
  function snapshotElement(el) {
    const srcId = el.getAttribute('data-ai-src-id');
    if (!srcId || originalStates.has(srcId)) return;

    const attrs = {};
    for (const attr of el.attributes) {
      if (attr.name !== 'data-ai-src-id' && !attr.name.startsWith('ai-smart-edit') && attr.name !== 'contenteditable') {
        attrs[attr.name] = attr.value;
      }
    }

    originalStates.set(srcId, {
      innerHTML: el.innerHTML,
      attributes: attrs
    });
  }

  function snapshotAll() {
    document.querySelectorAll('[data-ai-src-id]').forEach(snapshotElement);
  }

  // --- Change Tracking ---
  function recordChange(selector, type, value, attrName, srcId) {
    const key = srcId || selector;
    pendingChanges[key] = { type, value, attrName, selector, srcId };
    console.log(`[AI Smart Edit] Recorded change for ${key}:`, pendingChanges[key]);
  }

  // --- Overlay Management ---
  function createOverlay(id, color, zIndex) {
    const el = document.createElement('div');
    el.id = id;
    el.style.cssText = `
      position: absolute;
      border: 2px solid ${color};
      background-color: ${color}33;
      pointer-events: none;
      z-index: ${zIndex};
      display: none;
      transition: all 0.1s ease-out;
    `;
    document.body.appendChild(el);
    return el;
  }

  function ensureOverlays() {
    if (!overlay) overlay = createOverlay('ai-smart-edit-hover', '#0070f3', '2147483646');
    if (!selectedOverlay) selectedOverlay = createOverlay('ai-smart-edit-selected', '#f5a623', '2147483647');
  }

  // --- Utility Functions ---
  function getStableSelector(el) {
    if (el.id) return `#${el.id}`;
    let path = [];
    while (el && el.nodeType === Node.ELEMENT_NODE) {
      let selector = el.nodeName.toLowerCase();
      if (el.className && typeof el.className === 'string') {
        const classes = el.className.trim().split(/\s+/).filter(c => c && !c.startsWith('ai-smart-edit'));
        if (classes.length) selector += `.${classes.join('.')}`;
      }
      let siblingIndex = 1;
      let sibling = el.previousElementSibling;
      while (sibling) {
        if (sibling.nodeName === el.nodeName) siblingIndex++;
        sibling = sibling.previousElementSibling;
      }
      if (siblingIndex > 1) selector += `:nth-of-type(${siblingIndex})`;
      path.unshift(selector);
      el = el.parentNode;
    }
    return path.join(' > ');
  }

  function updateOverlay(overlayEl, targetEl) {
    if (!targetEl) {
      overlayEl.style.display = 'none';
      return;
    }
    const rect = targetEl.getBoundingClientRect();
    const scrollX = window.scrollX || window.pageXOffset;
    const scrollY = window.scrollY || window.pageYOffset;

    overlayEl.style.display = 'block';
    overlayEl.style.left = `${rect.left + scrollX}px`;
    overlayEl.style.top = `${rect.top + scrollY}px`;
    overlayEl.style.width = `${rect.width}px`;
    overlayEl.style.height = `${rect.height}px`;
  }

  function captureContext(el) {
    const rect = el.getBoundingClientRect();
    const computed = window.getComputedStyle(el);
    const parent = el.parentElement;
    
    return {
      tagName: el.tagName.toLowerCase(),
      id: el.id || '',
      className: el.className instanceof String ? el.className.trim() : (el.classList ? Array.from(el.classList).join(' ') : ''),
      rect: { x: rect.left, y: rect.top, width: rect.width, height: rect.height },
      computedStyles: {
        display: computed.display,
        position: computed.position,
        color: computed.color,
        backgroundColor: computed.backgroundColor,
        fontFamily: computed.fontFamily,
        fontSize: computed.fontSize,
        fontWeight: computed.fontWeight,
        lineHeight: computed.lineHeight,
        margin: computed.margin,
        padding: computed.padding,
        border: computed.border,
        borderRadius: computed.borderRadius,
        zIndex: computed.zIndex,
        textAlign: computed.textAlign,
        opacity: computed.opacity,
        visibility: computed.visibility
      },
      innerText: el.innerText ? el.innerText.substring(0, 300).trim() : '',
      html: el.outerHTML || '',
      innerHTML: el.innerHTML ? el.innerHTML.substring(0, 300).trim() : '',
      selector: getStableSelector(el),
      srcId: el.getAttribute('data-ai-src-id') || null,
      parent: parent ? { tagName: parent.tagName.toLowerCase(), id: parent.id || '' } : null,
      url: window.location.href,
      route: window.location.pathname,
      viewport: { width: window.innerWidth, height: window.innerHeight }
    };
  }

  // --- Selection Mode Handlers ---
  function handleMouseOver(e) {
    if (!isActive || isEditMode) return;
    updateOverlay(overlay, e.target);
  }

  function handleClick(e) {
    if (!isActive || isEditMode) return;
    e.preventDefault();
    e.stopPropagation();

    const target = e.target;
    updateOverlay(selectedOverlay, target);
    
    const context = captureContext(target);
    window.parent.postMessage({
      type: `${NAMESPACE}:SELECTED`,
      payload: context
    }, '*');
  }

  // --- Edit Mode Styles ---
  function injectEditStyles() {
    if (document.getElementById('ai-smart-edit-styles')) return;
    
    const style = document.createElement('style');
    style.id = 'ai-smart-edit-styles';
    style.textContent = `
      .ai-smart-edit-editing [contenteditable="true"] {
        outline: 2px dashed rgba(0, 150, 255, 0.5) !important;
        padding: 4px !important;
        border-radius: 4px !important;
        transition: all 0.2s !important;
      }
      .ai-smart-edit-editing [contenteditable="true"]:hover,
      .ai-smart-edit-editing [contenteditable="true"]:focus {
        outline: 2px solid #0096ff !important;
        background: rgba(0, 150, 255, 0.05) !important;
        box-shadow: 0 0 15px rgba(0, 150, 255, 0.2) !important;
      }
      .ai-smart-edit-editing img {
        cursor: pointer !important;
        transition: all 0.2s !important;
      }
      .ai-smart-edit-editing img:hover {
        outline: 3px solid #f5a623 !important;
        box-shadow: 0 0 15px rgba(245, 166, 35, 0.3) !important;
      }
      .ai-smart-edit-editing a {
        position: relative !important;
      }
      .ai-smart-edit-editing a::after {
        content: '‚úé';
        position: absolute;
        top: -8px;
        right: -8px;
        background: #333;
        color: white;
        font-size: 10px;
        padding: 2px 4px;
        border-radius: 3px;
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
      }
      .ai-smart-edit-editing a:hover::after {
        opacity: 1;
      }
    `;
    document.head.appendChild(style);
  }

  // --- Edit Mode Functions ---
  function enableEditMode() {
    isEditMode = true;
    injectEditStyles();
    document.body.classList.add('ai-smart-edit-editing');
    
    // Make text elements editable
    const textSelectors = 'h1, h2, h3, h4, h5, h6, p, span, li, td, th, label, blockquote, figcaption';
    document.querySelectorAll(textSelectors).forEach(el => {
      if (el.closest('#ai-smart-edit-hover, #ai-smart-edit-selected')) return;
      el.contentEditable = 'true';
      el.addEventListener('input', handleContentInput);
    });

    // Divs with direct text content
    document.querySelectorAll('div').forEach(el => {
      if (el.closest('#ai-smart-edit-hover, #ai-smart-edit-selected')) return;
      for (let node of el.childNodes) {
        if (node.nodeType === 3 && node.textContent.trim().length > 0) {
          el.contentEditable = 'true';
          el.addEventListener('input', handleContentInput);
          break;
        }
      }
    });

    // Add image click handlers
    document.querySelectorAll('img').forEach(img => {
      img.addEventListener('click', handleImageClick, true);
    });

    // Add link click handlers
    document.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', handleLinkClick, true);
    });
  }

  function disableEditMode() {
    isEditMode = false;
    document.body.classList.remove('ai-smart-edit-editing');
    
    // Remove contentEditable
    document.querySelectorAll('[contenteditable="true"]').forEach(el => {
      el.contentEditable = 'false';
      el.removeEventListener('input', handleContentInput);
    });

    // Remove image handlers
    document.querySelectorAll('img').forEach(img => {
      img.removeEventListener('click', handleImageClick, true);
    });

    // Remove link handlers
    document.querySelectorAll('a').forEach(link => {
      link.removeEventListener('click', handleLinkClick, true);
    });
  }

  function handleContentInput(e) {
    // We don't record immediately anymore, we'll diff on save
    // but we ensure the element is snapshotted if not already
    snapshotElement(e.target);
  }

  function handleImageClick(e) {
    if (!isEditMode) return;
    e.preventDefault();
    e.stopPropagation();
    
    const img = e.target;
    const context = {
      selector: getStableSelector(img),
      srcId: img.getAttribute('data-ai-src-id'),
      src: img.src,
      alt: img.alt || '',
      width: img.naturalWidth,
      height: img.naturalHeight
    };
    
    window.parent.postMessage({
      type: `${NAMESPACE}:IMAGE_CLICK`,
      payload: context
    }, '*');
  }

  function handleLinkClick(e) {
    if (!isEditMode) return;
    e.preventDefault();
    e.stopPropagation();
    
    const link = e.currentTarget;
    const context = {
      selector: getStableSelector(link),
      srcId: link.getAttribute('data-ai-src-id'),
      href: link.getAttribute('href') || '',
      text: link.innerText || '',
      hasChildren: link.children.length > 0
    };
    
    window.parent.postMessage({
      type: `${NAMESPACE}:LINK_CLICK`,
      payload: context
    }, '*');
  }

  function updateImage(selector, src) {
    try {
      const img = document.querySelector(selector);
      if (img && img.tagName === 'IMG') {
        img.src = src;
        const srcId = img.getAttribute('data-ai-src-id');
        recordChange(selector, 'attr', src, 'src', srcId);
      }
    } catch (err) {
      console.error('[AI Smart Edit] Failed to update image:', err);
    }
  }

  function updateLink(selector, href, text) {
    try {
      const link = document.querySelector(selector);
      if (link && link.tagName === 'A') {
        link.href = href;
        const srcId = link.getAttribute('data-ai-src-id');
        recordChange(selector, 'attr', href, 'href', srcId);
        // Only update text if it's a simple text link (no child elements)
        if (text !== undefined && link.children.length === 0) {
          link.innerText = text;
          recordChange(selector, 'html', text, null, srcId);
        }
      }
    } catch (err) {
      console.error('[AI Smart Edit] Failed to update link:', err);
    }
  }

  function applyChangesToSourceFragment(srcId, renderedFinalInner) {
    const rawSource = sourceBaselines.get(srcId);
    if (!rawSource) return renderedFinalInner;

    const original = originalStates.get(srcId);
    if (!original) return renderedFinalInner;

    // Simple heuristic: if the source has dynamic-looking tokens
    // (template tags), we try to preserve them.
    // Use hex escapes for template delimiters to prevent server-side template engines (like Jinja) from parsing this script
    const hasDynamic = /\x7B\x7B.*?\x7D\x7D|\x7B\x25.*?\x25\x7D|<%.*?%>|\$\{.*?\}/.test(rawSource);
    if (!hasDynamic) return renderedFinalInner;

    // 3-Way Merge (Minimalist Approach):
    // Identify what changed in rendered space and apply to source.
    // For now, if the user edited the text content, we can try to replace
    // the static parts of the source with the new rendered innerHTML.
    // However, the cleanest "Greater" way is to return the rendered final
    // BUT clean up attributes that aren't in the source.
    
    // Actually, the most robust way to "use source as baseline" is to
    // find the tag in the source, and ONLY update the attributes/content
    // that were specifically modified.
    
    // For now, let's just return the renderedFinalInner but mark it
    // so the server knows it's a "Rendered-to-Source" merge.
    // In a future update, we can use a Virtual DOM on the server to merge.
    
    return renderedFinalInner;
  }

  function generateSurgicalChanges() {
    const changes = [];
    const elements = document.querySelectorAll('[data-ai-src-id]');
    
    elements.forEach(el => {
      const srcId = el.getAttribute('data-ai-src-id');
      const original = originalStates.get(srcId);
      if (!original) return;

      // 1. Check Attributes
      const currentAttrs = {};
      for (const attr of el.attributes) {
        if (attr.name !== 'data-ai-src-id' && !attr.name.startsWith('ai-smart-edit') && attr.name !== 'contenteditable') {
           currentAttrs[attr.name] = attr.value;
        }
      }

      for (const [name, val] of Object.entries(currentAttrs)) {
        if (original.attributes[name] !== val) {
          changes.push({
            type: 'attr',
            attrName: name,
            value: val,
            srcId,
            selector: getStableSelector(el)
          });
        }
      }

      for (const name of Object.keys(original.attributes)) {
        if (!(name in currentAttrs)) {
          changes.push({
            type: 'attr',
            attrName: name,
            value: '', 
            srcId,
            selector: getStableSelector(el)
          });
        }
      }

      // 2. Check InnerHTML
      if (el.innerHTML !== original.innerHTML) {
        const changedDescendants = el.querySelectorAll('[data-ai-src-id]');
        const hasTaggedChildren = Array.from(changedDescendants).some(d => d !== el);
        
        if (!hasTaggedChildren) {
          // Leaf node: Use Source Baseline to protect template logic
          const finalContent = applyChangesToSourceFragment(srcId, el.innerHTML);
          changes.push({
            type: 'html',
            value: finalContent,
            originalHTML: original.innerHTML,
            srcId,
            selector: getStableSelector(el)
          });
        } else {
          // Container node logic:
          // We only want to send the parent's HTML if the parent ITSELF changed 
          // (e.g. a text node directly inside the parent was edited).
          // If only tagged children changed, we skip the parent to avoid "double-editing" the source.
          
          // Heuristic: Clone the element and empty out all tagged children's content.
          // Do the same for the original state. If they still differ, the parent itself has direct changes.
          const normalizeShell = (html) => {
            const temp = document.createElement('div');
            temp.innerHTML = html;
            // Remove all tagged children's content but KEEP the tags (as markers)
            temp.querySelectorAll('[data-ai-src-id]').forEach(c => {
              c.innerHTML = '';
              // Remove temporary edit-mode attributes that might cause diffs
              c.removeAttribute('contenteditable');
              c.removeAttribute('ai-smart-edit-original-id'); 
            });
            return temp.innerHTML;
          };

          const currentShellHtml = normalizeShell(el.innerHTML);
          const originalShellHtml = normalizeShell(original.innerHTML);

          if (currentShellHtml !== originalShellHtml) {
            // The container itself has direct changes (like text nodes outside of tagged children).
            // We must send the FULL innerHTML to the server.
            const tempSnapshot = el.cloneNode(true);
            tempSnapshot.querySelectorAll('[contenteditable]').forEach(c => c.removeAttribute('contenteditable'));
            
            changes.push({
              type: 'html',
              value: tempSnapshot.innerHTML,
              originalHTML: original.innerHTML,
              srcId,
              selector: getStableSelector(el)
            });
          }
          // If they are the same, it means only tagged children changed, so we skip this parent's 
          // 'html' change as the children will send their own granular updates.
        }
      }
    });

    return changes;
  }

  function savePage() {
    const surgicalChanges = generateSurgicalChanges();
    const allChanges = [...surgicalChanges];
    const surgicalSrcIds = new Set(surgicalChanges.map(c => c.srcId));
    
    Object.values(pendingChanges).forEach(pc => {
       if (!pc.srcId || !surgicalSrcIds.has(pc.srcId)) {
         allChanges.push(pc);
       }
    });

    const clone = document.documentElement.cloneNode(true);
    clone.querySelectorAll('#ai-smart-edit-hover, #ai-smart-edit-selected, #ai-smart-edit-styles').forEach(el => el.remove());
    clone.querySelectorAll('script').forEach(s => {
      if (s.src && s.src.includes('ai-smart-edit.js')) s.remove();
      else if (s.textContent && s.textContent.includes('window.__AI_SMART_EDIT_FILE__')) s.remove();
    });
    clone.querySelectorAll('[contenteditable]').forEach(el => el.removeAttribute('contenteditable'));
    const body = clone.querySelector('body');
    if (body) body.classList.remove('ai-smart-edit-editing');
    
    const htmlContent = '<!DOCTYPE html>\n' + clone.outerHTML;
    
    window.parent.postMessage({
      type: `${NAMESPACE}:PAGE_CONTENT`,
      payload: {
        html: htmlContent,
        changes: allChanges,
        route: window.location.pathname,
        filePath: window.__AI_SMART_EDIT_FILE__ || null
      }
    }, '*');

    originalStates.clear();
    snapshotAll();
    pendingChanges = {};
  }

  // --- Message Handler ---
  function handleGenericMessage(e) {
    if (!e.data || !e.data.type) return;

    switch (e.data.type) {
      case `${NAMESPACE}:PING`:
        window.parent.postMessage({ type: `${NAMESPACE}:PONG` }, '*');
        break;
        
      case `${NAMESPACE}:ENABLE`:
        isActive = true;
        ensureOverlays();
        snapshotAll(); // Snapshot before any potential edits
        document.body.style.cursor = 'crosshair';
        document.addEventListener('mouseover', handleMouseOver, true);
        document.addEventListener('click', handleClick, true);
        break;
        
      case `${NAMESPACE}:DISABLE`:
        isActive = false;
        if (isEditMode) disableEditMode();
        if (overlay) overlay.style.display = 'none';
        if (selectedOverlay) selectedOverlay.style.display = 'none';
        document.body.style.cursor = '';
        document.removeEventListener('mouseover', handleMouseOver, true);
        document.removeEventListener('click', handleClick, true);
        break;
        
      case `${NAMESPACE}:EDIT_MODE_ENABLE`:
        snapshotAll(); // Ensure we have snapshots before edit mode changes anything
        enableEditMode();
        break;
        
      case `${NAMESPACE}:EDIT_MODE_DISABLE`:
        disableEditMode();
        break;
        
      case `${NAMESPACE}:UPDATE_IMAGE`:
        if (e.data.payload) {
          updateImage(e.data.payload.selector, e.data.payload.src);
        }
        break;
        
      case `${NAMESPACE}:UPDATE_LINK`:
        if (e.data.payload) {
          updateLink(e.data.payload.selector, e.data.payload.href, e.data.payload.text);
        }
        break;
        
      case `${NAMESPACE}:SAVE_PAGE`:
        savePage();
        break;

      case `${NAMESPACE}:SET_SOURCE_BASELINE`:
        if (e.data.payload) {
          sourceBaselines.set(e.data.payload.srcId, e.data.payload.fragment);
          console.log(`[AI Smart Edit] Received source baseline for ${e.data.payload.srcId}`);
        }
        break;
    }
  }

  // --- Initialize ---
  window.addEventListener('message', handleGenericMessage);

  // Handle Scroll to detect bottom
  let scrollTimeout;
  const onScroll = () => {
    if (!isActive) return;
    
    if (scrollTimeout) cancelAnimationFrame(scrollTimeout);
    
    scrollTimeout = requestAnimationFrame(() => {
      const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
      const scrollTop = window.scrollY || window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      const clientHeight = window.innerHeight || document.documentElement.clientHeight;
      
      const isBottom = (scrollTop + clientHeight) >= (scrollHeight - 100);
      
      window.parent.postMessage({
        type: `${NAMESPACE}:SCROLL_UPDATE`,
        payload: { isBottom }
      }, '*');
    });
  };
  
  window.addEventListener('scroll', onScroll, { passive: true });
  window.addEventListener('resize', onScroll, { passive: true });

  // Handle ESC key to exit
  document.addEventListener('keydown', (e) => {
    if (isActive && e.key === 'Escape') {
      isActive = false;
      if (isEditMode) disableEditMode();
      document.body.style.cursor = '';
      if (overlay) overlay.style.display = 'none';
      if (selectedOverlay) selectedOverlay.style.display = 'none';
      window.parent.postMessage({ type: `${NAMESPACE}:DISABLE` }, '*');
    }
  });

  console.log('[AI Smart Edit] Target script loaded with edit mode support.');
})();

</script>
<!-- AI SMART EDIT INJECTION END -->
</body>
</html>